#!/usr/bin/env bash

usage() {
    cat <<EOF
trash - move files to trash instead of deleting them
usage: trash <files>...
EOF
}

if [ -z "$1" ] || [[ "$1" == "-h" ]] || [[ "$1" == "--help" ]]; then
    usage
    exit 0
fi

for file in "$@"; do
    if [ ! -e "$file" ]; then
        echo "No such file or directory '$file'."
        continue
    fi
    file=$(realpath $file)
    osascript -e "tell application \"Finder\" to delete POSIX file \"$file\"" &> /dev/null || echo "Something went wrong while deleting '$file'."
done